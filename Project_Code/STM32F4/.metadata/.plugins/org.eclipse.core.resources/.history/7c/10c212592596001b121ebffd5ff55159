

#include "ESP8266.h"

extern UART_HandleTypeDef huart1;
extern uint8_t RX_Buffer[100];
extern uint8_t RX_data[100];
uint8_t databuffer[10];

void ESP8266_Init(char *SSID, char *Password)
{


	//ESP_Send("AT+RST\r\n");		// resetten van de ESP8266
	//HAL_UART_Receive_IT(&huart1, RX_Buffer,4);
	/* AT */
	HAL_Delay(1000);
	ESP_Send("AT\r\n");
	sprintf(RX_data,"output = %s \r\n",RX_Buffer);
	printf(RX_data);
	/* AT + CWMODE = 2 */
	//ESP_Send("AT+CWMODE=1\r\n");
	//HAL_Delay(10);

	/* AT */
	//ESP_Send("AT+CWJAP=\"LaserBoard\",\"12345678\"\r\n");
	//HAL_Delay(1000);

}

void ESP_Send(char * data)
{
	HAL_UART_Transmit(&huart1, (uint8_t*) data, strlen(data), 100);
	HAL_Delay(10);
}
